<% random_id = SecureRandom.hex(10) %>

<a data-toggle="<%= random_id %>"
  class="button-prime <%= local_assigns[:button_class] %>"
  title="<%= local_assigns.fetch(:button_title, t('common.create_new_content', locale: active_ui_locale)) %>">
  <i class="fa fa-plus" aria-hidden="true"></i>
</a>

<div class="reveal new-object" id="<%= random_id %>" data-reveal data-v-offset="auto" data-close-on-click="true">
  <div class="new-object-links" id="create_content_links">
    <div id="user-new-favorites" class="new-favorites remote-render"
      data-remote-path="data_cycle_core/application/new_contents/new_content_links"
      data-remote-options="<%= to_query_params(local_assigns).to_json %>">
    </div>

    <%= render 'data_cycle_core/application/new_contents/new_content_form', local_assigns.merge({
      query_methods: local_assigns[:query_methods]
    }) %>

    <a class="option default-new-option" href="#" data-open="new_default">
      <span class="icon"><i class="fa fa-file" aria-hidden="true"></i></span>
      <%= t('common.create_new_content', locale: active_ui_locale) %>
    </a>
  </div>
</div>
